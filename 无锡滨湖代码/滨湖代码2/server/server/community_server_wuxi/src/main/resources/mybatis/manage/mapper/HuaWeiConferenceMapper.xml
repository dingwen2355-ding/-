<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.znv.manage.dao.HuaWeiConfereceDao">

    <select id="queryMainUri" resultType="map">
        SELECT
            uri Uri,
            uri_name `Name`
        FROM
            t_huawei_precinct_uri
        WHERE
            precinct_id = #{precinctId}
    </select>

    <select id="queryGroupList" resultType="com.znv.manage.common.bean.HuaweiGroup">
        select *
        from t_huawei_conference_group
        where type = #{type} and precinct_id = #{precinctId}
        <if test="name != null and name != ''">and `name` like CONCAT('%',#{name},'%')</if>
    </select>

    <insert id="addGroup">
        insert into t_huawei_conference_group(type,`name`,parent_id,uris,precinct_id)
            values (#{type},#{name},#{parentId},#{uris},#{precinctId})
    </insert>

    <update id="updateGroupInfo">
        update t_huawei_conference_group
            set type = #{type},`name`=#{name},parent_id = #{parentId},uris = #{uris}
        where id = #{id}
    </update>

    <delete id="deleteGroup">
        delete from t_huawei_conference_group where find_in_set(id,#{ids})
    </delete>
</mapper>