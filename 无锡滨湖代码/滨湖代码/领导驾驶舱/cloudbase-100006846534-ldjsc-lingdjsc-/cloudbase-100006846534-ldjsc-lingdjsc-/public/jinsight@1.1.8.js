!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Insight=t()}(this,(function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function t(t){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?e(Object(a),!0).forEach((function(e){i(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s;const o=new Uint8Array(16);function c(){if(!s&&(s="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(o)}var u=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const f=[];for(let e=0;e<256;++e)f.push((e+256).toString(16).slice(1));function d(e,t=0){return(f[e[t+0]]+f[e[t+1]]+f[e[t+2]]+f[e[t+3]]+"-"+f[e[t+4]]+f[e[t+5]]+"-"+f[e[t+6]]+f[e[t+7]]+"-"+f[e[t+8]]+f[e[t+9]]+"-"+f[e[t+10]]+f[e[t+11]]+f[e[t+12]]+f[e[t+13]]+f[e[t+14]]+f[e[t+15]]).toLowerCase()}function h(e){if(!function(e){return"string"==typeof e&&u.test(e)}(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}function l(e,t,n){function a(e,a,r,i){var s;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof a&&(a=h(a)),16!==(null===(s=a)||void 0===s?void 0:s.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let o=new Uint8Array(16+e.length);if(o.set(a),o.set(e,a.length),o=n(o),o[6]=15&o[6]|t,o[8]=63&o[8]|128,r){i=i||0;for(let e=0;e<16;++e)r[i+e]=o[e];return r}return d(o)}try{a.name=e}catch(e){}return a.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",a}function p(e){return 14+(e+64>>>9<<4)+1}function v(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function g(e,t,n,a,r,i){return v((s=v(v(t,e),v(a,i)))<<(o=r)|s>>>32-o,n);var s,o}function y(e,t,n,a,r,i,s){return g(t&n|~t&a,e,t,r,i,s)}function m(e,t,n,a,r,i,s){return g(t&a|n&~a,e,t,r,i,s)}function b(e,t,n,a,r,i,s){return g(t^n^a,e,t,r,i,s)}function w(e,t,n,a,r,i,s){return g(n^(t|~a),e,t,r,i,s)}l("v3",48,(function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){const t=[],n=32*e.length,a="0123456789abcdef";for(let r=0;r<n;r+=8){const n=e[r>>5]>>>r%32&255,i=parseInt(a.charAt(n>>>4&15)+a.charAt(15&n),16);t.push(i)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[p(t)-1]=t;let n=1732584193,a=-271733879,r=-1732584194,i=271733878;for(let t=0;t<e.length;t+=16){const s=n,o=a,c=r,u=i;n=y(n,a,r,i,e[t],7,-680876936),i=y(i,n,a,r,e[t+1],12,-389564586),r=y(r,i,n,a,e[t+2],17,606105819),a=y(a,r,i,n,e[t+3],22,-1044525330),n=y(n,a,r,i,e[t+4],7,-176418897),i=y(i,n,a,r,e[t+5],12,1200080426),r=y(r,i,n,a,e[t+6],17,-1473231341),a=y(a,r,i,n,e[t+7],22,-45705983),n=y(n,a,r,i,e[t+8],7,1770035416),i=y(i,n,a,r,e[t+9],12,-1958414417),r=y(r,i,n,a,e[t+10],17,-42063),a=y(a,r,i,n,e[t+11],22,-1990404162),n=y(n,a,r,i,e[t+12],7,1804603682),i=y(i,n,a,r,e[t+13],12,-40341101),r=y(r,i,n,a,e[t+14],17,-1502002290),a=y(a,r,i,n,e[t+15],22,1236535329),n=m(n,a,r,i,e[t+1],5,-165796510),i=m(i,n,a,r,e[t+6],9,-1069501632),r=m(r,i,n,a,e[t+11],14,643717713),a=m(a,r,i,n,e[t],20,-373897302),n=m(n,a,r,i,e[t+5],5,-701558691),i=m(i,n,a,r,e[t+10],9,38016083),r=m(r,i,n,a,e[t+15],14,-660478335),a=m(a,r,i,n,e[t+4],20,-405537848),n=m(n,a,r,i,e[t+9],5,568446438),i=m(i,n,a,r,e[t+14],9,-1019803690),r=m(r,i,n,a,e[t+3],14,-187363961),a=m(a,r,i,n,e[t+8],20,1163531501),n=m(n,a,r,i,e[t+13],5,-1444681467),i=m(i,n,a,r,e[t+2],9,-51403784),r=m(r,i,n,a,e[t+7],14,1735328473),a=m(a,r,i,n,e[t+12],20,-1926607734),n=b(n,a,r,i,e[t+5],4,-378558),i=b(i,n,a,r,e[t+8],11,-2022574463),r=b(r,i,n,a,e[t+11],16,1839030562),a=b(a,r,i,n,e[t+14],23,-35309556),n=b(n,a,r,i,e[t+1],4,-1530992060),i=b(i,n,a,r,e[t+4],11,1272893353),r=b(r,i,n,a,e[t+7],16,-155497632),a=b(a,r,i,n,e[t+10],23,-1094730640),n=b(n,a,r,i,e[t+13],4,681279174),i=b(i,n,a,r,e[t],11,-358537222),r=b(r,i,n,a,e[t+3],16,-722521979),a=b(a,r,i,n,e[t+6],23,76029189),n=b(n,a,r,i,e[t+9],4,-640364487),i=b(i,n,a,r,e[t+12],11,-421815835),r=b(r,i,n,a,e[t+15],16,530742520),a=b(a,r,i,n,e[t+2],23,-995338651),n=w(n,a,r,i,e[t],6,-198630844),i=w(i,n,a,r,e[t+7],10,1126891415),r=w(r,i,n,a,e[t+14],15,-1416354905),a=w(a,r,i,n,e[t+5],21,-57434055),n=w(n,a,r,i,e[t+12],6,1700485571),i=w(i,n,a,r,e[t+3],10,-1894986606),r=w(r,i,n,a,e[t+10],15,-1051523),a=w(a,r,i,n,e[t+1],21,-2054922799),n=w(n,a,r,i,e[t+8],6,1873313359),i=w(i,n,a,r,e[t+15],10,-30611744),r=w(r,i,n,a,e[t+6],15,-1560198380),a=w(a,r,i,n,e[t+13],21,1309151649),n=w(n,a,r,i,e[t+4],6,-145523070),i=w(i,n,a,r,e[t+11],10,-1120210379),r=w(r,i,n,a,e[t+2],15,718787259),a=w(a,r,i,n,e[t+9],21,-343485551),n=v(n,s),a=v(a,o),r=v(r,c),i=v(i,u)}return[n,a,r,i]}(function(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(p(t));for(let a=0;a<t;a+=8)n[a>>5]|=(255&e[a/8])<<a%32;return n}(e),8*e.length))}));var E={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function I(e,t,n){if(E.randomUUID&&!t&&!e)return E.randomUUID();const a=(e=e||{}).random||(e.rng||c)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return d(a)}function S(e,t,n,a){switch(e){case 0:return t&n^~t&a;case 1:case 3:return t^n^a;case 2:return t&n^t&a^n&a}}function D(e,t){return e<<t|e>>>32-t}l("v5",80,(function(e){const t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const a=e.length/4+2,r=Math.ceil(a/16),i=new Array(r);for(let t=0;t<r;++t){const n=new Uint32Array(16);for(let a=0;a<16;++a)n[a]=e[64*t+4*a]<<24|e[64*t+4*a+1]<<16|e[64*t+4*a+2]<<8|e[64*t+4*a+3];i[t]=n}i[r-1][14]=8*(e.length-1)/Math.pow(2,32),i[r-1][14]=Math.floor(i[r-1][14]),i[r-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<r;++e){const a=new Uint32Array(80);for(let t=0;t<16;++t)a[t]=i[e][t];for(let e=16;e<80;++e)a[e]=D(a[e-3]^a[e-8]^a[e-14]^a[e-16],1);let r=n[0],s=n[1],o=n[2],c=n[3],u=n[4];for(let e=0;e<80;++e){const n=Math.floor(e/20),i=D(r,5)+S(n,s,o,c)+u+t[n]+a[e]>>>0;u=c,c=o,o=D(s,30)>>>0,s=r,r=i}n[0]=n[0]+r>>>0,n[1]=n[1]+s>>>0,n[2]=n[2]+o>>>0,n[3]=n[3]+c>>>0,n[4]=n[4]+u>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}));var k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a(this,e),this.iframes=t,this.events={},this.dataEvents={},this.state={},this.apiEvents={},window.addEventListener("message",this.listen.bind(this),!1)}var i,s,o;return i=e,s=[{key:"destroy",value:function(){try{window.removeEventListener("message",this.listen.bind(this),!1)}catch(e){}this.iframes=[],this.events={},this.dataEvents={},this.state={},this.apiEvents={}}},{key:"listen",value:function(e){var t=this;if(e.data&&"omaploaded"===e.data.act&&this.iframes.forEach((function(t){"object"===n(t)&&t.id===e.data.id&&t.onload&&t.onload(e.data.id)})),e.data&&"iframeOnHide"===e.data.act&&(Array.isArray(this.iframes)&&this.iframes.length?this.iframes.forEach((function(t){"object"===n(t)&&t.id===e.data.id&&t.onhide&&t.onhide(e.data.id)})):this.iframes.onhide&&this.iframes.onhide(e.data.id)),e.data&&"iframeOnShow"===e.data.act&&(Array.isArray(this.iframes)&&this.iframes.length?this.iframes.forEach((function(t){"object"===n(t)&&t.id===e.data.id&&t.onshow&&t.onshow(e.data.id)})):this.iframes.onshow&&this.iframes.onshow(e.data.id)),e.data&&"api"===e.data.act&&e.data.params&&this.apiEvents[e.data.id]){var a=e.data.params;try{a=JSON.parse(e.data.params).value}catch(e){}this.apiEvents[e.data.id](a)}e.data&&"request"===e.data.act&&(this.dataEvents[e.data.requestId]&&("start"===e.data.requestType&&this.dataEvents[e.data.requestId].forEach((function(t){return t.start&&t.start(e.data.data)})),"success"===e.data.requestType&&this.dataEvents[e.data.requestId].forEach((function(t){return t.success&&t.success(e.data.data)})),"fail"===e.data.requestType&&this.dataEvents[e.data.requestId].forEach((function(t){return t.fail&&t.fail(e.data.data)}))),this.dataEvents.all&&("start"===e.data.requestType&&this.dataEvents.all.forEach((function(t){return t.start&&t.start(e.data.data)})),"success"===e.data.requestType&&this.dataEvents.all.forEach((function(t){return t.success&&t.success(e.data.data)})),"fail"===e.data.requestType&&this.dataEvents.all.forEach((function(t){return t.fail&&t.fail(e.data.data)})))),e.data&&this.events&&this.events[e.data.state]&&this.events[e.data.state].forEach((function(t){t&&t(e.data.value)})),e.data&&this.events&&this.events[e.data.state+"_change"]&&(null!=this.state[e.data.state]&&this.state[e.data.state]==e.data.value||(this.state[e.data.state]=e.data.value,this.events[e.data.state+"_change"].forEach((function(t){t&&t(e.data.value)})))),e.data&&"getConfig"===e.data.act&&this.iframes.forEach((function(e){"object"===n(e)&&e.config&&t.emit("sendConfig",e.config)}))}},{key:"get",value:function(e){var t=this;return new Promise((function(n,a){var r=e.name,i=e.target,s=e.success,o=e.failed;t.sendMessageToInsight({iframeId:i,apiType:"getStateValue",params:{name:r},callback:function(e){e?(s&&s(e),n(e)):(o&&o("api get",e),a("api get",e))}})}))}},{key:"on",value:function(e,t){"string"==typeof e?(this.events[e]||(this.events[e]=[]),this.events[e].push(t)):"data"===e.type&&this.onData(e)}},{key:"change",value:function(e,t){var n=e+"_change";this.events[n]||(this.events[n]=[]),this.events[n].push(t)}},{key:"off",value:function(e){this.events[e]&&(this.events[e]=[]),this.events[e+"_change"]&&(this.events[e+"_change"]=[]),this.dataEvents[e]&&(this.dataEvents[e]=[])}},{key:"onDataChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.id&&(this.dataEvents[e.id]||(this.dataEvents[e.id]=[]),this.dataEvents[e.id].push(e))}},{key:"onDataChangeAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.id="all",this.dataEvents[e.id]||(this.dataEvents[e.id]=[]),this.dataEvents[e.id].push(e)}},{key:"removeDataChangeAllListen",value:function(){this.dataEvents.all=[]}},{key:"onDatas",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){t.id&&e.onData(t)}))}},{key:"emit",value:function(e,t){window.parent&&window.parent.postMessage({state:e,value:t},"*"),this.iframes.length&&this.iframes.forEach((function(a){var r=a;"object"===n(a)&&(r=a.target),document.getElementById(r)&&document.getElementById(r).contentWindow.postMessage({state:e,value:t,type:"paraent"},"*")}))}},{key:"clear",value:function(){try{window.removeEventListener("message",this.listen.bind(this),!1)}catch(e){}this.events={},this.state={},this.iframes=[],this.dataEvents={}}},{key:"sendMessageToInsight",value:function(e){var n=this,a=e.iframeId,r=e.apiType,i=e.callback,s=e.params,o=void 0===s?{}:s,c=I();window.parent&&window.parent.postMessage(t({act:"api",apiType:r,id:c},o),"*"),document.getElementById(a)&&document.getElementById(a).contentWindow.postMessage(t({act:"api",apiType:r,type:"paraent",id:c},o),"*"),this.apiEvents[c]=function(e){i&&i(e),delete n.apiEvents[c]}}},{key:"getUserScreens",value:function(e){var t=this;return new Promise((function(n,a){var r=e.target,i=e.success,s=e.failed;t.sendMessageToInsight({iframeId:r,apiType:"getUserScreenList",callback:function(e){e?(i&&i(e),n(e)):(s&&s(),a())}})}))}},{key:"getScreenDataById",value:function(e){var t=this;return new Promise((function(n,a){var r=e.target,i=e.success,s=e.failed,o=e.screenId;t.sendMessageToInsight({iframeId:r,apiType:"getScreenDataById",params:{screenId:o},callback:function(e){e?(i&&i(e),n(e)):(s&&s(),a())}})}))}},{key:"deletePanelScreen",value:function(e){var t=this;return new Promise((function(n,a){var r,i=e.componentId,s=e.screenId;t.getScreenData(e).then((function(n){return r=n,Object.keys(r.components).forEach((function(e){var t=r.components[e];if(e===i){var n=t.config.data.findIndex((function(e){return e.id===s}));if(-1==n)throw"大屏ID保存失败";t.config.data.splice(n,1)}})),e.screenData=r,t.saveScreen(e)})).then((function(n){if(n.success)return t.reloadScreen(e);throw"大屏保存失败"})).then((function(e){n(e)})).catch((function(e){a(e)}))}))}},{key:"savePanelScreen",value:function(e){var t=this;return new Promise((function(n,a){var r,i=e.componentId,s=e.screenId,o=e.screenData,c=e.screenName;t.getScreenData(e).then((function(n){return r=n,Object.keys(r.components).forEach((function(e){var t=r.components[e];if(e===i){var n=t.config.data.findIndex((function(e){return e.id===s}));if(-1==n)throw"大屏ID保存失败";var a=o;a.id=s,a.name=c,a.base.size.width=t.config.style.width,a.base.size.height=t.config.style.height,t.config.data.splice(n,1,a)}})),e.screenData=r,t.saveScreen(e)})).then((function(n){if(n.success)return t.reloadScreen(e);throw"大屏保存失败"})).then((function(e){n(e)})).catch((function(e){a(e)}))}))}},{key:"getScreenId",value:function(e){var t=this;return new Promise((function(n,a){var r=e.type,i=void 0===r?"default":r;t.getScreenData(e).then((function(n){return"new"===i&&(n.id=null),e.screenData=n,t.saveScreen(e)})).then((function(e){n(e)})).catch((function(e){a(e)}))}))}},{key:"sortPanelScreen",value:function(e){var t=this;return new Promise((function(n,a){var r,i=e.componentId,s=e.indexs;t.getScreenData(e).then((function(n){return r=n,Object.keys(r.components).forEach((function(e){var t=r.components[e];if(e===i){var n=[t.config.data[s[1]],t.config.data[s[0]]];t.config.data[s[0]]=n[0],t.config.data[s[1]]=n[1]}})),e.screenData=r,t.saveScreen(e)})).then((function(n){if(n.success)return t.reloadScreen(e);throw"大屏保存失败"})).then((function(e){n(e)})).catch((function(e){a(e)}))}))}},{key:"addPanelScreen",value:function(e){var t=this;return new Promise((function(n,a){var r,i,s=e.componentId,o=e.screenName,c=void 0===o?"":o,u=e.success,f=e.failed;t.getScreenDataById(e).then((function(n){return r=n,t.getScreenData(e)})).then((function(n){return i=n,Object.keys(i.components).forEach((function(e){var t=i.components[e];if(e===s){var n=r;n.id=I(),n.name=c,n.base.size.width=t.config.style.width,n.base.size.height=t.config.style.height,t.config.data.push(n)}})),e.screenData=i,t.saveScreen(e)})).then((function(n){if(n.success)return t.reloadScreen(e);throw"大屏保存失败"})).then((function(e){u&&u(e),n(e)})).catch((function(e){f&&f(e),a(e)}))}))}},{key:"saveScreen",value:function(e){var t=this;return new Promise((function(n,a){var r=e.screenData,i=e.target,s=e.success,o=e.failed;t.sendMessageToInsight({iframeId:i,apiType:"saveScreen",params:{screenData:r},callback:function(e){e?(s&&s(e),n(e)):(o&&o("api getScreenData",e),a("api getScreenData",e))}})}))}},{key:"reloadScreen",value:function(e){var t=this;return new Promise((function(n,a){var r=e.target,i=e.success,s=e.failed;t.sendMessageToInsight({iframeId:r,apiType:"reloadScreen",callback:function(e){e?(i&&i(e),n(e)):(s&&s("api getScreenData",e),a("api getScreenData",e))}})}))}},{key:"saveComponent",value:function(e){var t=this;return new Promise((function(n,a){var r,i=e.componentId,s=e.config;t.getScreenData(e).then((function(n){return r=n,Object.keys(r.components).forEach((function(e){var n=r.components[e];e===i&&(n.config=t.pageToStyle(s))})),e.screenData=r,t.saveScreen(e)})).then((function(n){if(n.success)return t.reloadScreen(e);throw"大屏保存失败"})).then((function(e){n(e)})).catch((function(e){a(e)}))}))}},{key:"getScreenData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n,a){var r=t.target,i=t.success,s=t.failed;e.sendMessageToInsight({iframeId:r,apiType:"getScreenData",callback:function(e){e?(i&&i(e),n(e)):(s&&s("api getScreenData",e),a("api getScreenData",e))}})}))}},{key:"getCover",value:function(e){var t=this;return new Promise((function(n,a){var r=e.target,i=e.success,s=e.failed;t.sendMessageToInsight({iframeId:r,apiType:"getCover",callback:function(e){e?(i&&i(e),n(e)):(s&&s("api getCover 调用失败"),a("api getCover 调用失败"))}})}))}},{key:"styleToPage",value:function(e){return e.data=e.data.map((function(n){var a=n.id,r=!1;return e.style.pages&&e.style.pages[a]&&(r=e.style.pages[a].hide),t(t({},n),{},{visible:!r})})),e}},{key:"pageToStyle",value:function(e){return null==e.style.pages&&(e.style.pages={}),e.data.forEach((function(t){var n=t.id;t.visible?e.style.pages[n]={hide:!1}:e.style.pages[n]={hide:!0}})),e}},{key:"getComponentData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n,a){var r=t.componentType;t.target;var i=t.success,s=t.failed,o=t.componentId;e.getScreenData(t).then((function(t){try{var c=[];Object.keys(t.components).forEach((function(n){var a=t.components[n];r&&a.name===r?("DynamicPanel"===r&&(a.config=e.styleToPage(a.config)),c.push(a.config)):o&&n===o&&c.push(a.config)})),i&&i(c),n(c)}catch(e){s&&s("api getScreenData",e),a("api getScreenData",e)}}))}))}},{key:"getId",value:function(){return Date.now()+""+Math.round(1e5*Math.random())}}],s&&r(i.prototype,s),o&&r(i,o),Object.defineProperty(i,"prototype",{writable:!1}),e}();return k}));
//# sourceMappingURL=jinsight@1.1.8.js.map
